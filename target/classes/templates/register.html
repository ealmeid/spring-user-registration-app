<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Register an Account</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<link href="../static/css/style.css" th:href="@{/css/style.css}" rel="stylesheet" />
</head>
<body>
	<div class="registration-form">
	<h1 class="center">Register</h1>
    <form class="form" action="#" th:action="@{/register}" th:object="${register}" method="post" onsubmit="return validate()">
    	<p>Username: <input type="text" th:field="*{username}" id="username"/></p>
        <p>Password: <input type="password" th:field="*{password}" id="password"/></p>
        <p><input class="btn btn-secondary" type="submit" value="Submit" /> <input class="btn btn-secondary" type="reset" value="Reset" /></p>
    </form>
    </div>
    <a class="github-image" href="https://github.com/eascend/spring-user-registration-app">
		<img border="50" alt="https://github.com/eascend/spring-user-registration-app" src="https://2sxc.org/Portals/0/adam/Content/4IqBjx3pXEC7a7-fVX2GBQ/Image/github-logo.png" width="100" height="100">
	</a>
</body>

<script>
	
	function validate(){
		
		var username = document.getElementById('username').value;
		var password = document.getElementById('password').value;
		var errors = "One of more of the following error(s) have occured:\n\n";
		
		if(username.length < 5){
			errors += "Usernames must be a minimum of 8 characters!\n";
		}
		
		if(!(/^[a-zA-Z0-9_]*$/.test(username))){
			errors += "Alpha-numeric characters only!\n";	
		}
		
		if(!(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(password))){
			errors += "Passwords must be a minimum of 8 characters with (1) number, (1) lowercase and (1) uppercase letter.\n";
		}
		
		if(errors=="One of more of the following error(s) have occured:\n\n"){
			return true;
		} else {
			alert(errors);
			errors=""
			return false;
		}
	
	}

</script>

</html>